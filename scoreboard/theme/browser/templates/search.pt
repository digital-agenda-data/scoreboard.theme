<html metal:use-macro="here/main_template/macros/master" i18n:domain="plone">
  <tal:js metal:fill-slot="top_slot">
    <script type="text/javascript" tal:define="docs view/getResults; searchCount python:len(docs)" tal:content="structure string:var _paq = _paq || [];_paq.push(['setCustomUrl', document.URL + '&search_count=${searchCount}']);"></script>
  </tal:js>
  <div metal:fill-slot="main">
        <h1>Search results for "<span tal:replace="view/getSearchQuery"></span>"</h1>
        <tal:block define="docs view/getResults">
            <p class="docsTable" data-search-result-count="0" tal:condition="not:docs">No indicators found.</p>
            <table class="docsTable white-area" tal:condition="docs" tal:attributes="data-search-result-count python:len(docs)">
                <thead>
                    <th style="width:80%">
                        Indicator
                    </th>
                    <th style="width:20%">
                        Dataset
                    </th>
                </thead>
                <tbody>
                    <tal:row repeat="doc docs">
                        <tr>
                            <td>
                                <strong><a tal:attributes="href string:${doc/chart_uri}""><span tal:replace="doc/label"></span></a></strong><br>
                                <span tal:replace="doc/definition"></span>
                            </td>
                            <td>
                                <a tal:attributes="href string:${doc/dataset}/indicators">
                                    <span tal:replace="doc/dataset_title"></span>
                                </a>
                            </td>
                        </tr>
                    </tal:row>
                </tbody>
            </table>
        </tal:block>
  </div>
</html>

